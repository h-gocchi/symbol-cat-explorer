<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEKO EXPLORER - Real Symbol Connect</title>
    <!-- React & Babel -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #FFFBF7; color: #475569; }
        .text-shadow-sm { text-shadow: 0 1px 2px rgba(0,0,0,0.05); }

        /* Áå´„ÅÆÊ≠©Ë°å„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        @keyframes walk-across {
            0% { left: -25%; opacity: 1; }
            95% { left: 120%; opacity: 1; }
            100% { left: 125%; opacity: 0; }
        }
        .neko-walking {
            position: absolute;
            animation: walk-across 10s linear forwards;
            z-index: 50;
            top: 70%;
            transform: translateX(-50%);
        }
        
        @keyframes pulse-ring { 0% { transform: scale(0.95); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.8; } 100% { transform: scale(0.95); opacity: 1; } }
        .audio-ready-pulse { animation: pulse-ring 2s infinite ease-in-out; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React;

        // --- Symbol Ë®≠ÂÆö (HTTPSÂØæÂøú„ÅÆÂÆâÂÆö„Éé„Éº„Éâ) ---
        const NODE_CANDIDATES = [
            "https://symbol-sakura-16.next-web-technology.com:3001",
            "https://xym.town:3001",
            "https://api-01.symbol.chat:3001",
            "https://symbol-node.net:3001",
            "https://symbol-main-1.nemtus.com:3001",
            "https://000635c1.xym.stir-hosyu.com:3001",
            "https://sym-main-03.opening-line.jp:3001",
            "https://sym-main-01.opening-line.jp:3001",
            "https://symbol-mikun.net:3001",
            "https://nodes.symbol.community:3001"
        ];
        const SYMBOL_GENESIS_TIME = 1615853185;
        const CHECK_INTERVAL = 30000; 

        const apiKey = ""; 
        const TEXT_MODEL = "gemini-2.5-flash-preview-09-2025";
        const NYARIIN_SOUND_PATH = "./nyarin.mp3"; 

        const NEKO_FALLBACK_COMMENTS = [
            "„ÅäÈ≠ö„ÅÆÈ¶ô„Çä„Åå„Åô„Çã„Éá„Éº„Çø„Å†„Å´„ÇÉÔºÅ", "„Åì„ÅÆTx„Çí„ÇÇ„Å£„Å¶„Åü„Åè„Åï„ÇìÊ≠©„Åç„Åü„ÅÑ„Å´„ÇÉÔºÅ",
            "„Ç≠„É©„Ç≠„É©„Åó„ÅüÂÆùÁü≥„ÇíË¶ã„Å§„Åë„Åü„Å´„ÇÉÔºÅ", "„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÅÆÈ¢®„ÅåÊ∞óÊåÅ„Å°„ÅÑ„ÅÑ„Å´„ÇÉ„Äú",
            "„Åì„Çì„Å™„Ç®„É¢„ÅÑTxÂàù„ÇÅ„Å¶Ë¶ã„Çã„Å´„ÇÉ„Äú", "Ë™∞„Åã„ÅÆÁßòÂØÜ„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Åã„Å´„ÇÉÔºü",
            "Êé¢Ê§ú„ÅØ„Åæ„Å†„Åæ„Å†Á∂ö„Åè„Çì„Å†„Å´„ÇÉÔºÅ", "„Åì„ÅÆ„Éá„Éº„Çø„ÅØÂ§ßÂàá„Å´„Åô„Çã„Å´„ÇÉÔºÅ",
            "„Åä„ÅÑ„Åó„Åù„ÅÜ„Å™„Éá„Éº„Çø„Åå„ÅÇ„Çã„Å´„ÇÉÔºÅ", "„ÅäÊòºÂØù„ÅÆ„ÅÇ„Å®„ÅÆÊé¢Ê§ú„ÅØÊúÄÈ´ò„Å†„Å´„ÇÉÔºÅ",
            "„Åô„Åî„ÅÑ„ÅäÂÆù„ÅåÁú†„Å£„Å¶„ÅÑ„Åù„ÅÜ„Å†„Å´„ÇÉÔºÅ", "„Åä„ÇÇ„Åó„Çç„ÅÑ„É°„ÉÉ„Çª„Éº„Ç∏„ÅåÂÖ•„Å£„Å¶„Çã„Å´„ÇÉ",
            "„ÅäÊòºÂØù„ÅÆ„ÅÇ„Å®„ÅÆÊé¢Ê§ú„ÅØÊúÄÈ´ò„Å†„Å´„ÇÉÔºÅ", "„Éñ„É≠„ÉÉ„ÇØ„ÉÅ„Çß„Éº„É≥„ÅØÂ∫ÉÂ§ß„Å†„Å´„ÇÉ‚Ä¶",
            "Êñ∞„Åó„ÅÑË∂≥Ë∑°„ÇíÊÆã„Åó„Å¶„ÅÑ„Åè„Å´„ÇÉÔºÅ"
        ];

        // --- Â§âÊèõ„Éò„É´„Éë„Éº ---
        const formatSymbolTimestamp = (timestamp) => {
            if (!timestamp) return "---";
            try {
                const date = new Date((Number(timestamp) / 1000 + SYMBOL_GENESIS_TIME) * 1000);
                return date.toLocaleString('ja-JP', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            } catch(e) { return "---"; }
        };

        const decodeHexMessage = (hex) => {
            if (!hex || hex.length < 2) return null;
            if (hex.startsWith('00')) {
                try {
                    return decodeURIComponent(hex.substring(2).replace(/[0-9a-f]{2}/g, '%$&'));
                } catch(e) { return "Data Block"; }
            }
            return "Encrypted";
        };

        // --- „Ç¢„Ç§„Ç≥„É≥ ---
        const Icon = ({ name, size = 24, className = "" }) => {
            const icons = {
                Database: <path d="M3 5V19C3 20.1 5.24 21 8 21C10.76 21 13 20.1 13 19V5C13 3.9 10.76 3 8 3C5.24 3 3 3.9 3 5Z M3 5C3 6.1 5.24 7 8 7C10.76 7 13 6.1 13 5 M3 12C3 13.1 5.24 14 8 14C10.76 14 13 13.1 13 12 M21 5V19C21 20.1 18.76 21 16 21C13.24 21 11 20.1 11 19 M21 5C21 6.1 18.76 7 16 7C13.24 7 11 6.1 11 5 M11 12C11 13.1 13.24 14 16 14C18.76 14 21 13.1 21 12" />,
                RotateCcw: <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8 M3 3v5h5" />,
                Hash: <path d="M4 9h16 M4 15h16 M10 3L8 21 M16 3l-2 18" />,
                Box: <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z M3.27 6.96L12 12.01l8.73-5.05 M12 22.08V12" />,
                Send: <React.Fragment><path d="m22 2-7 20-4-9-9-4Z" /><path d="M22 2 11 13" /></React.Fragment>,
                Clock: <React.Fragment><circle cx="12" cy="12" r="10" /><path d="M12 6v6l4 2" /></React.Fragment>,
                X: <path d="M18 6 6 18 M6 6l12 12" />,
                ExternalLink: <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6 M15 3h6v6 M10 14 21 3" />,
                Volume2: <React.Fragment><path d="M11 5 6 9H2v6h4l5 4V5Z" /><path d="M15.54 8.46a5 5 0 0 1 0 7.07 M19.07 4.93a10 10 0 0 1 0 14.14" /></React.Fragment>,
                Fish: <React.Fragment><path d="M23 12c0 3.3-2.7 6-6 6-1.5 0-2.8-.5-3.9-1.5C11 18.5 8.5 20 6 20c-1.5 0-3-.5-4-1.5 1-1 1.5-2.5 1.5-4 0-2.5-1.5-5-1.5-6C3 7.5 4.5 7 6 7c2.5 0 5 1.5 7.1 3.5C14.2 9.5 15.5 9 17 9c3.3 0 6 2.7 6 6z" /><circle cx="18" cy="13" r="1" fill="white" /></React.Fragment>,
                MessageSquare: <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />,
                ShieldCheck: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10Z" />
            };
            return <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>{icons[name] || null}</svg>;
        };

        // --- Áå´„ÅÆ„Éá„Ç∂„Ç§„É≥„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà ---
        const CustomCat = ({ className = "w-24 h-24", expression = "normal", isWalking = false, mode = "full", color = "#FBAE83" }) => {
            const viewBox = mode === "face" ? "24 20 52 35" : "0 0 100 100";
            return (
                <div className={`${className} relative ${isWalking ? 'animate-bounce' : ''}`} style={{ animationDuration: '0.6s' }}>
                    <svg viewBox={viewBox} className="w-full h-full drop-shadow-sm transition-all duration-300">
                        {mode === "full" && (
                            <React.Fragment>
                                <path d="M22 65 Q 6 65 6 40" stroke={color} strokeWidth="10" fill="none" strokeLinecap="round" />
                                <rect x="34" y="80" width="10" height="10" rx="5" fill={color} />
                                <rect x="56" y="80" width="10" height="10" rx="5" fill={color} />
                                <path d="M20 70 Q20 45 50 45 Q80 45 80 70 Q80 85 50 85 Q20 85 20 70 Z" fill={color} />
                            </React.Fragment>
                        )}
                        <path d="M25 48 Q25 32 50 32 Q75 32 75 48 L75 52 Q50 52 25 52 Z" fill={color} />
                        <path d="M28 35 L 36 22 Q 42 22 44 35 Z" fill={color} />
                        <path d="M72 35 L 64 22 Q 58 22 56 35 Z" fill={color} />
                        <g>
                            {expression === 'blink' ? (
                                <React.Fragment><line x1="38" y1="42" x2="46" y2="42" stroke="#555" strokeWidth="3" strokeLinecap="round" /><line x1="54" y1="42" x2="62" y2="42" stroke="#555" strokeWidth="3" strokeLinecap="round" /></React.Fragment>
                            ) : expression === 'happy' ? (
                                <React.Fragment><path d="M38 43 Q42 39 46 43" stroke="#555" strokeWidth="2.5" fill="none" /><path d="M54 43 Q58 39 62 43" stroke="#555" strokeWidth="2.5" fill="none" /></React.Fragment>
                            ) : (
                                <React.Fragment><circle cx="42" cy="42" r="3" fill="#555" /><circle cx="58" cy="42" r="3" fill="#555" /></React.Fragment>
                            )}
                        </g>
                        <path d="M46 48 Q50 51 54 48" stroke="#555" strokeWidth="1.3" fill="none" />
                    </svg>
                    {mode === "full" && (
                        <div className="absolute bottom-5 -right-4 transform rotate-6 scale-[0.7]">
                            <div className="w-10 h-10 bg-[#E9D5B5] border-2 border-[#D8C2A2] rounded-md relative shadow-sm">
                                <div className="absolute top-0 left-1/2 -translate-x-1/2 w-2.5 h-full bg-[#E8A5AC]"></div>
                                <div className="absolute top-1/2 left-0 -translate-y-1/2 w-full h-2.5 bg-[#E8A5AC]"></div>
                                <div className="absolute -top-3 left-1/2 -translate-x-1/2 text-2xl">üéÄ</div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const PawPrint = ({ className = "" }) => <div className={`text-slate-500 ${className}`}><svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="14" r="4" /><circle cx="7" cy="8" r="2.5" /><circle cx="11" cy="6" r="2.5" /><circle cx="15" cy="7" r="2.5" /><circle cx="18" cy="10" r="2.5" /></svg></div>;

        const Modal = ({ isOpen, onClose, title, children }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 text-slate-700">
                    <div className="absolute inset-0 bg-slate-900/60 backdrop-blur-sm" onClick={onClose}></div>
                    <div className="bg-white rounded-[2.5rem] w-full max-w-2xl max-h-[85vh] overflow-hidden shadow-2xl relative animate-in zoom-in-95 duration-200">
                        <header className="p-6 border-b border-slate-50 flex items-center justify-between">
                            <h2 className="text-xl font-black flex items-center gap-3"><div className="w-10 h-10 bg-orange-50 rounded-xl flex items-center justify-center text-orange-500"><Icon name="Database" size={20} /></div>{title || "DETAILS"}</h2>
                            <button onClick={onClose} className="w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-50 text-slate-400 transition-colors"><Icon name="X" size={24} /></button>
                        </header>
                        <div className="p-6 overflow-y-auto">{children}</div>
                    </div>
                </div>
            );
        };

        const DetailRow = ({ icon, label, value }) => (
            <div className="flex flex-col py-4 border-b border-slate-50 gap-1 group text-slate-700">
                <div className="flex items-center gap-2 text-slate-400"><Icon name={icon} size={14} /><span className="text-xs font-bold uppercase tracking-wider">{label}</span></div>
                <div className="text-sm font-bold break-all font-mono p-2 bg-slate-50 rounded-lg mt-1">{value || "---"}</div>
            </div>
        );

        const App = () => {
            const [height, setHeight] = useState(0);
            const [blocks, setBlocks] = useState([]);
            const [txs, setTxs] = useState([]);
            const [activeNode, setActiveNode] = useState(null);
            const [playgroundMessage, setPlaygroundMessage] = useState(null);
            const [isGenerating, setIsGenerating] = useState(false);
            const [animationKey, setAnimationKey] = useState(0);
            const [modalContent, setModalContent] = useState(null);
            const [audioBlocked, setAudioBlocked] = useState(true);
            const [headerExpression, setHeaderExpression] = useState('normal');
            
            const audioRef = useRef(null);
            const heightRef = useRef(0);

            const findNode = async () => {
                const shuffled = [...NODE_CANDIDATES].sort(() => Math.random() - 0.5);
                for (let node of shuffled) {
                    try {
                        const controller = new AbortController();
                        const id = setTimeout(() => controller.abort(), 2000);
                        const res = await fetch(`${node}/chain/info`, { signal: controller.signal });
                        clearTimeout(id);
                        if (res.ok) {
                            setActiveNode(node);
                            return node;
                        }
                    } catch(e) {}
                }
                setActiveNode("Demo Mode");
                return null;
            };

            useEffect(() => {
                findNode();
                audioRef.current = new Audio(NYARIIN_SOUND_PATH);
                audioRef.current.load();
            }, []);

            const playNyariin = () => {
                if (!audioRef.current) return;
                audioRef.current.currentTime = 0;
                audioRef.current.play().then(() => setAudioBlocked(false)).catch(() => setAudioBlocked(true));
            };

            const triggerNeko = (newHeight, msg) => {
                if (isGenerating) return;
                setIsGenerating(true);
                setAnimationKey(k => k + 1);
                setPlaygroundMessage(`Êñ∞„Éñ„É≠„ÉÉ„ÇØ #${newHeight} Âà∞ÁùÄ„Éã„É§ÔºÅ`);
                playNyariin();
                setTimeout(() => setPlaygroundMessage(msg || NEKO_FALLBACK_COMMENTS[Math.floor(Math.random() * NEKO_FALLBACK_COMMENTS.length)]), 2000);
                setTimeout(() => { setIsGenerating(false); setPlaygroundMessage(null); }, 10500);
            };

            const updateData = useCallback(async () => {
                let node = activeNode;
                if (!node || node === "Demo Mode") {
                    node = await findNode();
                }

                if (!node) {
                    const h = (heightRef.current || 5200000) + 1;
                    heightRef.current = h;
                    setHeight(h);
                    triggerNeko(h, "„Éá„É¢„É¢„Éº„Éâ„ÅßÊï£Ê≠©„Å†„Å´„ÇÉÔºÅ");
                    return;
                }

                try {
                    const resInfo = await fetch(`${node}/chain/info`);
                    const info = await resInfo.json().catch(() => null);
                    if (!info?.height) throw new Error();
                    
                    const newHeight = Number(info.height);
                    if (newHeight > heightRef.current) {
                        const prevH = heightRef.current;
                        heightRef.current = newHeight;
                        setHeight(newHeight);

                        const [bRes, tRes] = await Promise.all([
                            fetch(`${node}/blocks?limit=5&order=desc`),
                            fetch(`${node}/transactions/confirmed?limit=5&order=desc`)
                        ]);
                        
                        const bData = await bRes.json().catch(() => null);
                        if (bData?.data) {
                            setBlocks(bData.data.map(b => ({
                                id: b.block?.height || "---", time: formatSymbolTimestamp(b.block?.timestamp), hash: b.meta?.hash || "---"
                            })));
                        }

                        const tData = await tRes.json().catch(() => null);
                        if (tData?.data) {
                            const mapped = tData.data.map(t => ({
                                id: t.meta?.hash || "---", type: "Transfer", message: decodeHexMessage(t.transaction?.message), block: "#" + (t.meta?.height || "---")
                            }));
                            setTxs(mapped);
                            if (prevH > 0) triggerNeko(newHeight, mapped[0]?.message);
                        }
                    }
                } catch (e) {
                    setActiveNode(null);
                }
            }, [activeNode]);

            useEffect(() => {
                const timer = setInterval(updateData, CHECK_INTERVAL);
                updateData();
                return () => clearInterval(timer);
            }, [updateData]);

            useEffect(() => {
                const timer = setInterval(() => {
                    const rand = Math.random();
                    if (rand < 0.6) setHeaderExpression('normal');
                    else if (rand < 0.8) { setHeaderExpression('blink'); setTimeout(() => setHeaderExpression('normal'), 200); }
                    else { setHeaderExpression('happy'); setTimeout(() => setHeaderExpression('normal'), 1000); }
                }, 4000);
                return () => clearInterval(timer);
            }, []);

            return (
                <div className="min-h-screen p-4 md:p-8 selection:bg-orange-100 overflow-x-hidden text-slate-700">
                    <header className="max-w-7xl mx-auto flex items-center justify-between mb-8 px-2">
                        <div className="flex items-center gap-4">
                            <div className={`w-14 h-14 bg-[#F47A42] rounded-[1.2rem] flex items-center justify-center shadow-lg cursor-pointer relative ${audioBlocked ? 'ring-4 ring-orange-200 audio-ready-pulse' : ''}`} onClick={() => { playNyariin(); setAudioBlocked(false); }}>
                                <CustomCat className="w-10 h-10 p-1" color="white" expression={headerExpression} mode="face" />
                                {audioBlocked && <div className="absolute top-0 right-0 p-1 bg-white rounded-bl-lg text-orange-500"><Icon name="Volume2" size={12} /></div>}
                            </div>
                            <div>
                                <h1 className="text-xl sm:text-2xl font-black text-[#F47A42] italic uppercase leading-none tracking-tight">Neko Explorer</h1>
                                <div className="text-[10px] font-bold text-slate-300 truncate max-w-[150px] mt-1 font-mono">{activeNode === "Demo Mode" ? "DEMO MODE" : activeNode ? activeNode.replace('https://', '') : "„Éé„Éº„Éâ„ÇíÊé¢„Åó‰∏≠..." }</div>
                            </div>
                        </div>
                        <button onClick={() => { setActiveNode(null); updateData(); }} className="w-12 h-12 flex items-center justify-center bg-[#F47A42] rounded-2xl text-white shadow-lg active:scale-95 transition-all"><Icon name="RotateCcw" size={22} /></button>
                    </header>

                    <section className="max-w-7xl mx-auto mb-10 px-2 text-slate-700">
                        <div className="bg-white rounded-[3rem] sm:rounded-[4rem] p-8 sm:p-16 relative overflow-hidden shadow-md border border-orange-50 flex flex-col items-center justify-center min-h-[350px] sm:min-h-[420px]">
                            {/* Ë∂≥Ë∑°ËÉåÊôØ */}
                            <div className="absolute inset-0 pointer-events-none opacity-30">
                                <PawPrint className="absolute top-10 left-10 w-20 h-20 rotate-12" /><PawPrint className="absolute bottom-16 left-20 w-24 h-24 rotate-6" />
                                <PawPrint className="absolute top-1/2 left-[12%] w-14 h-14 rotate-180" /><PawPrint className="absolute top-12 right-24 w-18 h-18 rotate-45" />
                                <PawPrint className="absolute bottom-24 right-32 w-22 h-22 -rotate-12" /><PawPrint className="absolute bottom-1/4 right-[10%] w-18 h-18 rotate-90" />
                                <PawPrint className="absolute top-1/3 right-[15%] w-16 h-16 rotate-12" /><PawPrint className="absolute top-24 right-[42%] w-16 h-16 -rotate-45" />
                                <PawPrint className="absolute bottom-1/3 right-[38%] w-20 h-20 -rotate-12" />
                            </div>

                            {/* „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥‰∏≠„ÅÆÁå´ */}
                            {isGenerating && (
                                <div key={animationKey} className="neko-walking">
                                    {playgroundMessage && (
                                        <div className="absolute bottom-full mb-2 bg-white border-2 border-orange-100 rounded-[2rem] px-5 py-3 shadow-xl w-max max-w-[240px] sm:max-w-[280px]">
                                            <p className="font-black text-slate-800 text-sm leading-snug">„Äå{playgroundMessage}„Äç</p>
                                            <div className="absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white border-r-2 border-b-2 border-orange-100 rotate-45"></div>
                                        </div>
                                    )}
                                    <CustomCat isWalking={true} expression="surprised" mode="full" />
                                </div>
                            )}
                            
                            {/* ‚òÖÂæÖÊ©ü‰∏≠„ÅÆÁå´: ‰∏≠Â§Æ‰∏ãÊñπÔºà‰øÆÊ≠£Ê∏à„ÅøÔºöabsolute bottom-8 left-1/2 „ÇíÈÅ©Áî®Ôºâ */}
                            {!isGenerating && (
                                <div className="absolute bottom-8 left-1/2 -translate-x-1/2 z-10">
                                    <CustomCat className="w-24 h-24" expression="normal" mode="full" />
                                </div>
                            )}

                            <h2 className="text-lg sm:text-2xl md:text-3xl font-black text-[#F9EAD8] tracking-widest sm:tracking-[0.5em] uppercase italic select-none mt-auto text-center px-4 w-full pointer-events-none">Neko Playground</h2>
                        </div>
                    </section>

                    <section className="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 text-slate-700 px-2">
                        <div className="bg-white rounded-[2rem] p-8 shadow-sm border border-orange-50 group hover:border-orange-200 transition-colors"><div className="flex items-center gap-2 mb-2"><Icon name="Hash" size={20} className="text-orange-500" /><span className="text-xs font-bold text-slate-300 uppercase tracking-widest">Height</span></div><p className="text-3xl sm:text-5xl font-black tabular-nums">{height || '---'}</p></div>
                        <div className="bg-white rounded-[2rem] p-8 shadow-sm border border-orange-50 group hover:border-orange-200 transition-colors"><div className="flex items-center gap-2 mb-2"><Icon name="Box" size={20} className="text-orange-500" /><span className="text-xs font-bold text-slate-300 uppercase tracking-widest">Blocks</span></div><p className="text-3xl sm:text-5xl font-black">{blocks.length}</p></div>
                        <div className="bg-white rounded-[2rem] p-8 shadow-sm border border-orange-50 group hover:border-blue-200 transition-colors"><div className="flex items-center gap-2 mb-2"><Icon name="Send" size={20} className="text-blue-500" /><span className="text-xs font-bold text-slate-300 uppercase tracking-widest">TXs</span></div><p className="text-3xl sm:text-5xl font-black">{txs.length}</p></div>
                    </section>

                    <section className="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-10 pb-20 px-2 text-slate-700">
                        <div className="bg-white/40 rounded-[3rem] p-8 border border-slate-100 shadow-sm relative">
                            <h3 className="text-2xl font-black mb-8 flex items-center gap-3 tracking-tight text-slate-800"><Icon name="Box" size={24} className="text-orange-400" />Latest Blocks</h3>
                            <div className="space-y-4">
                                {blocks.map((b, idx) => (
                                    <div key={idx} onClick={() => setModalContent({type:'block', data:b})} className="bg-white rounded-[2rem] p-6 shadow-sm border border-orange-50/30 flex items-center justify-between group hover:shadow-md cursor-pointer transition-all hover:translate-x-1">
                                        <div className="flex items-center gap-4"><div className="w-10 h-10 bg-orange-50 rounded-xl flex items-center justify-center text-orange-400 group-hover:scale-110 transition-transform"><Icon name="CatFace" size={24} /></div><div><div className="text-xl font-black text-orange-500">#{b?.id || "---"}</div><div className="text-[10px] font-bold text-slate-300">{b?.time}</div></div></div><Icon name="ExternalLink" className="text-orange-200" />
                                    </div>
                                ))}
                            </div>
                        </div>
                        <div className="bg-blue-50/10 rounded-[3rem] p-8 border border-blue-50/50 shadow-sm relative">
                            <h3 className="text-2xl font-black mb-8 flex items-center gap-3 tracking-tight text-slate-800"><Icon name="Send" size={24} className="text-blue-400" />Recent TXs</h3>
                            <div className="space-y-4">
                                {txs.map((t, idx) => (
                                    <div key={idx} onClick={() => setModalContent({type:'tx', data:t})} className="bg-white rounded-[2rem] p-6 shadow-sm border border-blue-50/50 flex flex-col group cursor-pointer hover:shadow-lg transition-all hover:-translate-y-1">
                                        <div className="flex items-start gap-4"><div className="w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-400 shrink-0 group-hover:rotate-12 transition-transform"><Icon name="Fish" size={24} /></div><div className="flex-1 min-w-0"><div className="font-black text-blue-500 mb-1 truncate text-sm">{t?.type}</div><div className="text-[9px] text-slate-300 truncate mb-1 font-mono">{t?.id}</div>{t?.message && <div className="p-2 bg-slate-50 rounded-lg text-[10px] italic font-bold text-slate-500">„Äå{t?.message}„Äç</div>}</div></div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    <Modal isOpen={!!modalContent} onClose={() => setModalContent(null)} title={modalContent?.type?.toUpperCase()}>
                        <div className="space-y-1">
                            {modalContent?.type === 'block' ? (
                                <React.Fragment>
                                    <DetailRow icon="Hash" label="Height" value={modalContent?.data?.id} />
                                    <DetailRow icon="Clock" label="Time" value={modalContent?.data?.time} />
                                    <DetailRow icon="ShieldCheck" label="Hash" value={modalContent?.data?.hash} />
                                </React.Fragment>
                            ) : (
                                <React.Fragment>
                                    <DetailRow icon="Hash" label="Hash" value={modalContent?.data?.id} />
                                    <DetailRow icon="Box" label="Block" value={modalContent?.data?.block} />
                                    {modalContent?.data?.message && <DetailRow icon="MessageSquare" label="Message" value={modalContent?.data?.message} />}
                                </React.Fragment>
                            )}
                        </div>
                    </Modal>
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
